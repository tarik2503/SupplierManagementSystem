<div class="container my-2">
    <h1 class="mb-3">Add Purchase Order</h1>
    <div class="row justify-content-center">
      <div class="col-lg-12 mt-2">
        <form [formGroup]="purchaseOrderForm">
          <div class="row mb-2 ">
              <!-- <div class="col-md-9"></div> -->
    
              <div
                class="col-md-12 d-flex align-items-center justify-content-end me-5"
              >
                
                <div class="d-flex">
                  <button type="submit" (click)="onSave()" class="btn btn-primary">
                    Save
                  </button>
                  <a
                    routerLink="/purchaseorder"
                    class="btn btn-outline-secondary mx-2"
                    >Cancel</a
                  >
                </div>
              </div>
            </div>
  
  
          <div class="row mb-3 ">
            <div class="col-md-4 mt-2 shadow bg-light border p-3 mx-4">
              <div class="row">
                <div class="col-md-6 mb-3">
                  <label for="supplier" class="form-label">Supplier</label>
                  <select class="form-select" formControlName="supplierId">
                    <option value="" selected>Select Supplier</option>
                    <option
                      *ngFor="let supplier of suppliers"
                      [value]="supplier.id"
                    >
                      {{ supplier.supplierName }}
                    </option>
                  </select>
                  <small
                    class="text-danger"
                    *ngIf="
                      purchaseOrderForm.controls['supplierId'].dirty &&
                      purchaseOrderForm.hasError('required', 'supplierId')
                    "
                    >*Supplier is required</small
                  >
                </div>
  
                <div class="col-md-6 mb-3">
                  <label for="ponumber" class="form-label">PO Number</label>
                  <div class="input-field">
                    <input
                      formControlName="poNumber"
                      type="text"
                      class="form-control"
                    />
                  </div>
                </div>
              </div>
              <div class="row">
                  <div class="col-md-6 mb-3">
                    <label for="deliverydate" class="form-label">Delivery Date</label>
                    <div class="input-field" [class.error]="
                    purchaseOrderForm.controls['deliveryDate'].dirty &&
                    purchaseOrderForm.hasError('required', 'deliveryDate')
                  ">
                      <input
                        formControlName="deliveryDate"
                        type="date"
                        class="form-control"
                      />
                    </div>
                    <small
                      class="text-danger"
                      *ngIf="
                        purchaseOrderForm.controls['deliveryDate'].dirty &&
                        purchaseOrderForm.hasError('required', 'deliveryDate')
                      "
                      >*Delivery Date is required</small
                    >
                  </div>
    
                  <div class="col-md-6 mb-3">
                    
                  </div>
                </div>
            </div>
            <div class="col-md-7 mt-2  shadow bg-light border p-3">
              <div class="row ">
                  <div class="col-md-4">
                      <label for="product" class="form-label">Product</label>
                      <div class="input-field">
                      <select class="form-select  custom-input" formControlName="productId">
                        <option value="" selected>Select Product</option>
                        <option
                          *ngFor="let product of products"
                          [value]="product.id"
                        >
                          {{ product.title }}
                        </option>
                      </select>
                  </div>
                      <small
                        class="text-danger"
                        *ngIf="
                          purchaseOrderForm.controls['productId'].dirty &&
                          purchaseOrderForm.hasError('required', 'productId')
                        "
                        >*Product is required</small
                      >
                  </div>
                  <div class="col-md-2">
                      <label for="deliverydate" class="form-label">Qty</label>
                      <div class="input-field" [class.error]="
                      purchaseOrderForm.controls['quantity'].dirty &&
                      purchaseOrderForm.hasError('required', 'quantity')
                    ">
                        <input
                          formControlName="quantity"
                          type="number"
                          class="form-control custom-input "
                        /> 
                        </div>
                        <small
                        class="text-danger"
                        *ngIf="
                          purchaseOrderForm.controls['quantity'].dirty &&
                          purchaseOrderForm.hasError('required', 'quantity')
                        "
                        >*Quantity is required</small
                      >
                      <small
                    class="text-danger"
                    *ngIf="
                    purchaseOrderForm.controls['quantity'].dirty &&
                    purchaseOrderForm.hasError('min', 'quantity')
                    "
                    >*Atleast 1 unit is required</small
                  >
                  <small
                    class="text-danger"
                    *ngIf="
                    purchaseOrderForm.controls['quantity'].dirty &&
                    purchaseOrderForm.hasError('max', 'quantity')
                    "
                    >*You can enter Maximum 100 units</small
                  >
                  </div>
                  <div class="col-md-3">                      
                          <label for="deliverydate" class="form-label">Price</label>   
                          <div class="input-field">             
                          <input
                            type="number"
                            id="price"
                            [value]="calculatePrice()"
                            disabled
                            class="form-control"
                          />
                      </div>                       
                  </div>
                  <div class="col-md-3 d-flex justify-content-end align-items-center mt-4"> <!-- Adjusted alignment -->
                      <span style="font-size: 26px; color: red; cursor: pointer;">
                        <i class="fa fa-trash"></i>
                      </span>
                    </div>
              </div>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
  
